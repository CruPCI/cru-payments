language: node_js
node_js: '7'
before_install:
- curl -o- -L https://yarnpkg.com/install.sh | bash
- export PATH=$HOME/.yarn/bin:$PATH
install:
- yarn
script:
- yarn run lint
- yarn run test
- yarn run build
after_success:
- bash <(curl -s https://codecov.io/bash)
cache:
  directories:
  - node_modules
deploy:
  provider: npm
  email: lee.braddock@cru.org
  api_key:
    secure: oYmyE5UZICoCE34ffz8xGUPzZaxOQk9JV+ybK7NbGjNNUlaXT7DrJqI95CqvNWqKD6a6ONbJ0o2GswT5qKe2JDXRqHgveCOao41fxSGXapkWYL3ov3JMxmJ2mYARzhjRV1KJSyhXknKmTAMAKmerMUSXy+ivX/LkhbAhtXxkaMeAglhJDKBOmCqglxKterm1H0zg5XQWyPI5GfGvMBMxOMHuWFAltPa6SMmo1j17Nr3AsBY/391A3Kq149v1fE25AGd6Smn/Qr2EV2pKQk/3TH59omjDan7DGB3bQ7l3eBuTAN/i0wKsBqmTpYQmsl+jvW7NPIGOMN8KOeZhRL3YSTnHvtUD+CzSPgbttkmjxoxW/dZhDHiy5x6JhFCRFWtgpo3FsJ+L8mNzxRvs7s0VD9IQsPx0p3EbBWto7cQBIg/7k99yItlamXYxdfxI05ToYddDvVWv8mpcnYDb2aYb/W2zrDQT6rmzJogpiMJN3KXejuA93PJKCoacGOrwB9qfUMmrPTpll9twr15eD+CZSBnQ+7eeWvUxcnjrNphxoqG9n7vJ7mYjv0KZl594XTsYKtTSsQ7tyWgedRclRQhvQ+K4ZGnpvjtQq3YUhewCcvMjskwyXYLcKVKZgFyU/DmyBn9+4NuMAjCn2///AGkzCVs8L0zjW6ntCwUXY2MF0Y0=
  on:
    repo: CruPCI/cru-payments
    branch: master
    tags: true
  skip_cleanup: true
