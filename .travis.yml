language: node_js
node_js: '7'
before_install:
- curl -o- -L https://yarnpkg.com/install.sh | bash
- export PATH=$HOME/.yarn/bin:$PATH
install:
- yarn
script:
- yarn run lint
- yarn run test
- yarn run build
after_success:
- bash <(curl -s https://codecov.io/bash)
cache:
  directories:
  - node_modules
deploy:
  provider: npm
  email: lee.braddock@cru.org
  api_key:
    secure: NT1wWO5X+TnCMrjZ21KZ7w8eTNQqSpOhSClvpM0FYn2f+zybD9Uw3HQWP7eaylOQuMGHqSAEE4pYSWAQ6ZP7d22tdpNcon3AE6x04OOel8W+vfblGatrPIl4osLigOg+7QVcqtOWsS3r0ouu/Nbgh4GpCJPT9ptZhQcYwhGwHuquH+vkS5sOXcAu7AMO7eWNTfiFO4zfjrcL8voBf06wjr+0gz+vlshPv232qVAAmZmP+CtJHU/vsnqeaIQa12bFQ0shOhvxO8pYK/Y+KZjvBgTtWiHwF4hihC0rZLiz3BraiG3/3kKKFAi9BtdcsgM0pE2qnT2PTdM5AtwcQeoz+XQYUTomMD7kxcVdAq4mZCdFukJNFx2mQRv69Oj/QEx0vOoe9B7wzWcmsXXIycdsBaA/zRiWWAXmc7milG8Dv8uWMMmS47v7Fhtd2wnxV+qr0nAp1f2RgltFSTJQxx7U5+AWBBiregKm87BxgxyW2TO5HRo7ff7LrlsKRpsyl979tygBMuW3qDMGnfnYHKXk928gZUuTrxtw2fLrYYtQ100lsOVe/fV0rNYxgvphzyMxHg4/wk1xjLHTu0YBZNjYGNntyygGeHLKJ6g1ksqiCIuqNtY9bJ0BJUt9ArVDy9E6Gk0+MK0Ob6Rbk7wJ+drxauLEgJMNtb9j1hS2n5bI+28=
  on:
    repo: CruPCI/cru-payments
    branch: master
    tags: true
  skip_cleanup: true
