language: node_js
node_js: '7'
before_install:
- curl -o- -L https://yarnpkg.com/install.sh | bash
- export PATH=$HOME/.yarn/bin:$PATH
install:
- yarn
script:
- yarn run lint
- yarn run test
- yarn run build
after_success:
- bash <(curl -s https://codecov.io/bash)
cache:
  directories:
  - node_modules
deploy:
  provider: npm
  email: lee.braddock@cru.org
  api_key:
    secure: LxVda1Urji9NeTmIpv+yB2f5RAHs8PWF1wyeczn/vpEsEJ50G1bJtejsXMiww4HT9z1MFCo+MyWvrvtrgLe1HV9D8MIzHvcWO+tAH24wLSxNP7icYQRBYQlRggUHbJbUC+LXRAvhHz3E+PZfD04sE3SEwII3kq/i+4wHBdCydzU0l5wHUqLZ+MnBwwN4DDMv312kHrlutLB0Tq6iBFcIN0EJJOhQmAxq+GWJ1aJd79l+iUc8yd7EcfLgEp5dEvJ8uyC5GhmkgI0joJ7kB9uVD1e1ZqRGnMKmnK5iKe2FDTfz4oYmvji9aYWOUhvIwS7nl6xUvqr7AUDvgE3tO1HjgVoes1q1NrzIwK9FmbKQTPgAVXxy5Du5QWbsprbO035mkGEJwTySsaUui6Qd5OSMXhtki3rxxdHAF9U5fq6QSPBzVBOTLh685ZC49MwXLJnndXG6NRbpi4wekBRx+su460z6stlNMP8vPF/TfRR7cCIWACVJyE5d/6A/QcFUDAswkPOMsx9lspnyqM6Ue0FlUfK6mEQB43iFZV8lUBkT10p4pjwBwS+4LcjpZ8thyPdw9Om15nPoIWWYE4QmGCmQLtriE+V1nJPu+Ptx6KY9r2WSw4+lMS4N2QS/vO3KVasJ8lF4AGNIKSFXDX1Yug+GqI5j+0N11fbmeNj3xmWn914=
  on:
    repo: CruPCI/cru-payments
    branch: master
    tags: true
  skip_cleanup: true
